# Migration `20200719225056-added-payout-level-and-relationship-with-tournament`

This migration has been generated by briansayles at 7/19/2020, 10:50:56 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."PayoutLevel" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"id" text  NOT NULL ,
"levelNumber" integer  NOT NULL ,
"payCount" integer  NOT NULL ,
"playerCount" integer  NOT NULL ,
"tournamentId" text  NOT NULL ,
"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."PayoutLevel" ADD FOREIGN KEY ("tournamentId")REFERENCES "public"."Tournament"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200719224524-default-all-created-at-and-updated-at-fields-to-now..20200719225056-added-payout-level-and-relationship-with-tournament
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -29,8 +29,9 @@
   segments Segment[]
   chips Chip[]
   costs Cost[]
   timer Timer?
+  payoutLevels PayoutLevel[]
 }
 model Segment {
   id String @default(uuid()) @id
@@ -81,5 +82,16 @@
   playEndOfRoundSound Boolean
   backgroundColor String
   tournament Tournament @relation(fields: [tournamentId], references: [id])
   tournamentId String
+}
+
+model PayoutLevel {
+  id String @default(uuid()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now())
+  levelNumber Int
+  payCount Int
+  playerCount Int
+  tournament Tournament @relation(fields: [tournamentId], references: [id])
+  tournamentId String
 }
```


